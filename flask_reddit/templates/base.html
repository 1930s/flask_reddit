<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
    <meta name="description" content="An extendable Reddit clone built with flask by 
         Lucas Ou-Yang and Jason Tanner.">
    <meta name="author" content="Lucas Ou-Yang, Jason Tanner">

    <title>{% block title %}{{ config.BRAND }}: Minimalist Reddit{% endblock %}</title>
    <!-- Bootstrap core CSS -->
    <!-- <link href="css/bootstrap.css" rel="stylesheet"> -->

    <link rel="icon" href="http://reddit.codelucas.com/static/imgs/favicon.ico" type="image/x-icon">
    {% block css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    {% endblock %}

    <!-- Add custom CSS here -->
    <style>
        body {margin-top: 60px;}
    </style>

  </head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" 
                data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">{{ config.BRAND }}</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul class="nav navbar-nav">
              <li><a href="{{ config.ROOT_URL }}/trending">Trending</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
          {% if user is not defined or user == None %}
              <li><a href="{{ config.ROOT_URL }}/register">Register</a></li>
              <li><a href="{{ config.ROOT_URL }}/login">Login</a></li>
          {% else %}
              <p class="navbar-text login-nav-text">Logged in as 
                  <a href="{{ url_for('users.home_page', username=user.username) }}">
                      {{ user.username }}</a>
              </p>
              <li class="logout-button"><a href="{{ config.ROOT_URL }}/logout">Logout</a></li>
          {% endif %}
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container -->
    </nav>

    <div class="container">
      <div id="messages-wrap">
        <div id="messages">
          {% for category, msg in get_flashed_messages(with_categories=true) %}
          <div class="flash-{{ category }} alert alert-dismissable alert-danger">
              {{ msg }}</p>
          {% endfor %}
        </div>
      </div>

      <div class="row main-box">
      {% block content %}

      {% endblock %}
      </div>

      <div class="row" id="footer-row">
          <div class="col-lg-12">
              <p>Flask_Reddit is a minimalist version of <a href="http://reddit.com">reddit</a>. 
               It is also an <a href="https://github.com/codelucas/flask_reddit">example</a>
               project for other devs.
               <br> 
              By <a href="http://codelucas.com">Lucas Ou-Yang</a>, check out more of his
               code <a href="https://github.com/codelucas">here</a>.</p>
          </div>
      </div>

    </div><!-- /.container -->

    <!-- JavaScript -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-37131973-4', 'codelucas.com');
      ga('send', 'pageview');
    </script>

    <!-- Let's use a CDN -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
    {% block scripts %}

    {% endblock %}
  </body>
</html>
